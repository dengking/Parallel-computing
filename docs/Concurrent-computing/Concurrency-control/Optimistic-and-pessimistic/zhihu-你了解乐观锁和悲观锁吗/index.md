# zhuanlan [【BAT面试题系列】面试官：你了解乐观锁和悲观锁吗？](https://zhuanlan.zhihu.com/p/74372722)

> NOTE: 
>
> 1、这篇文章讲得不错，它不仅说清了乐观锁、悲观锁的概念，而且还说明了如何来实现。

## **一、基本概念**

**乐观锁**和**悲观锁**是两种思想，用于解决并发场景下的数据竞争问题。

1、乐观锁：**乐观锁**在操作数据时非常**乐观**，认为别人不会同时修改数据。因此**乐观锁**不会上锁，只是在执行**更新**的时候判断一下在此期间别人是否修改了数据：如果别人修改了数据则放弃操作，否则执行操作。

> NOTE: 
>
> 1、典型的transaction方式

2、悲观锁：**悲观锁**在操作数据时比较**悲观**，认为别人会同时修改数据。因此操作数据时直接把数据锁住，直到操作完成后才会释放锁；上锁期间其他人不能修改数据。

## 二、实现方式(含实例)

在说明实现方式之前，需要明确：**乐观锁和悲观锁是两种思想，它们的使用是非常广泛的，不局限于某种编程语言或数据库。**

**悲观锁**的实现方式是加锁，加锁既可以是对代码块加锁（如Java的`synchronized`关键字），也可以是对数据加锁（如MySQL中的排它锁）。

乐观锁的实现方式主要有两种：CAS机制和版本号机制，下面详细介绍。

> NOTE: 
>
> 1、这两种实现是在其他的章节中都有说明

### 1、CAS（Compare And Swap）